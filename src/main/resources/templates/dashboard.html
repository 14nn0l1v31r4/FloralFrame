<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <meta charset="UTF-8">
    <title>Dashboard</title>
</head>
<body>
    <div th:replace="~{fragments/nav :: nav}"></div>

    <h1>Dashboard</h1>

    <div class="container">

        <!-- Sidebar -->
        <div th:replace="fragments/sidebar :: sidebar"></div>

        <!-- Feed -->
        <div th:replace="fragments/feed :: feed"></div>

        <div>
            <h1>Bem-vindo ao seu Jardim!</h1>
            <p>Você está na página de dashboard.</p>
            <button class="login-button">
                <a th:href="@{/home/post}" class="login-link">Criar Post</a>
            </button>
        </div>

        <!-- POSTS -->
        <div th:each="post : ${posts}">
            <h3 th:text="${post.title}">Título do post</h3>
            <p><strong th:text="${post.userID.name}">Nome do autor</strong></p> <!-- Nome do usuário do post -->
            <p th:text="${post.body}">Conteúdo do post</p>

            <h4>Comentários:</h4>
            <ul>
                <li th:each="comment : ${post.comments}">
                    <strong th:text="${comment.userIdComment.name}">Usuário</strong>: 
                    <span th:text="${comment.content}">Comentário</span>
                </li>
            </ul>

            <!-- Formulário de comentário -->
            <form th:action="@{/home/comment}" method="post">
                <input type="hidden" name="postId" th:value="${post.id}" />
                <textarea name="content" placeholder="Escreva seu comentário"></textarea>
                <button type="submit">Comentar</button>
            </form>
        </div>

    </div>

    <div th:replace="fragments/footer :: footer"></div>
</body>
</html>
